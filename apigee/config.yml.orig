resources:
- name: fhir_apis
  type: solutions.api
  properties:
    inputs:
    - name: org
      prompt: Edge Org name
      default: healthapix-demo
    - name: env
      prompt: Edge Org Environment
      default: prod      
    - name: username
      prompt: Edge Username
      ifNotPresent: token
    - name: password
      prompt: Edge Password
      ifNotPresent: token
    - name: chc_target_server_host
      prompt: Target server host URL for CHC Fhir Store
      default: healthcare.googleapis.com
    - name: chc_target_server_port
      prompt: Target server port for CHC Fhir Store
      default: 443
    - name: chc_target_server_basepath
      prompt: Target server basepath for CHC Fhir Store
      default: /
    configurations:
    - env : dev
      edge_host: https://api.enterprise.apigee.com
      host: '{{ org }}-{{ env }}.apigee.net'
    - env : test
      edge_host: https://api.enterprise.apigee.com
      host: '{{ org }}-{{ env }}.apigee.net'
    - env : prod
      edge_host: https://api.enterprise.apigee.com
      host: '{{ org }}-{{ env }}.apigee.net'

    edgeOrg:
    script: gulpfile.js
    basePath: .
    dependencies:
    subResources:
    - name: target_server
      type: targetServer
      items:
      - name: chc_target_server
        payload: '{ "host": "{{ chc_target_server_host }}","isEnabled": true,"name": "ghcapiserver","port": "{{ chc_target_server_port }}", "sSLInfo" : { "enabled" : "true" }}'
      - name: ApigeeMgmtServer
        payload: '{ "host": "api.enterprise.apigee.com","isEnabled": true,"name": "ApigeeMgmtServer","port": "443", "sSLInfo" : { "enabled" : "true" }}'
 
    - name: sharedFlows
      type: sharedFlow
      items:
      - name: authorization
      - name: google-token
      - name: proxy-faults
      - name: response-headers      
      - name: rewrite-links
      - name: smart-launch-security
      - name: spike-arrest
      - name: supported-resources
      - name: target-faults
      - name: threat-protection
      - name: unsupported-operation 

    - name: cacheResources
      type: cache
      items:
      - name: consent-session-cache
        payload: '{ "name": "consent-session-cache"}'
      - name: session-cookie-cache
        payload: '{ "name": "session-cookie-cache"}'
      - name: backend-services-jwks-cache
        payload: '{ "name": "backend-services-jwks-cache"}'
      - name: nonce-cache
        payload: '{ "name": "nonce-cache"}'
      - name: fhir-resources-cache
        payload: '{ "name": "fhir-resources-cache"}'
      - name: request-hash-links
        payload: '{ "name": "request-hash-links"}'

    - name: message_kvm
      type: kvm
      items:
      - name: HPX_Config
        payload: '{"name":"HPX_Config","entry":[{"name":"CacheTimeOut","value":86400},{"name":"spikearrest.ratelimit","value":"50ps"},{"name":"stu3.b2b.path.filter.map","value":"{\"Account\":\"patient\",\"AdverseEvent\":\"subject\",\"AllergyIntolerance\":\"patient\",\"Appointment\":\"patient\",\"AppointmentResponse\":\"patient\",\"AuditEvent\":\"patient\",\"Basic\":\"patient\",\"BodySite\":\"patient\",\"CarePlan\":\"patient\",\"CareTeam\":\"subject\",\"ChargeItem\":\"subject\",\"Claim\":\"patient\",\"ClaimResponse\":\"patient\",\"ClinicalImpression\":\"patient\",\"Communication\":\"patient\",\"CommunicationRequest\":\"patient\",\"Composition\":\"patient\",\"Condition\":\"patient\",\"Consent\":\"patient\",\"Contract\":\"patient\",\"Coverage\":\"patient\",\"DetectedIssue\":\"patient\",\"Device\":\"patient\",\"DeviceRequest\":\"subject\",\"DeviceUseStatement\":\"patient\",\"DiagnosticReport\":\"patient\",\"DocumentManifest\":\"patient\",\"DocumentReference\":\"patient\",\"EligibilityRequest\":\"patient\",\"Encounter\":\"patient\",\"EnrollmentRequest\":\"patient\",\"EpisodeOfCare\":\"patient\",\"ExplanationOfBenefit\":\"patient\",\"FamilyMemberHistory\":\"patient\",\"Flag\":\"patient\",\"Goal\":\"patient\",\"Group\":\"member\",\"GuidanceResponse\":\"subject\",\"ImagingManifest\":\"patient\",\"ImagingStudy\":\"patient\",\"Immunization\":\"patient\",\"ImmunizationRecommendation\":\"patient\",\"List\":\"patient\",\"MeasureReport\":\"patient\",\"Media\":\"subject\",\"MedicationAdministration\":\"patient\",\"MedicationDispense\":\"patient\",\"MedicationRequest\":\"subject\",\"MedicationStatement\":\"subject\",\"NutritionOrder\":\"patient\",\"Observation\":\"patient\",\"Person\":\"patient\",\"Procedure\":\"patient\",\"ProcedureRequest\":\"patient\",\"Provenance\":\"patient\",\"QuestionnaireResponse\":\"patient\",\"ReferralRequest\":\"subject\",\"RelatedPerson\":\"patient\",\"RequestGroup\":\"subject\",\"ResearchSubject\":\"individual\",\"RiskAssessment\":\"patient\",\"Schedule\":\"actor\",\"Sequence\":\"patient\",\"Specimen\":\"patient\",\"SupplyDelivery\":\"patient\",\"SupplyRequest\":\"patient\",\"Task\":\"owner\",\"VisionPrescription\":\"patient\", \"Patient\" : \"_id\"}"},{"name":"dstu2.b2b.path.filter.map","value":"{\"Account\":\"patient\",\"AllergyIntolerance\":\"patient\",\"Appointment\":\"patient\",\"AppointmentResponse\":\"patient\",\"AuditEvent\":\"patient\",\"Basic\":\"patient\",\"BodySite\":\"patient\",\"CarePlan\":\"patient\",\"Claim\":\"patient\",\"ClinicalImpression\":\"patient\",\"Communication\":\"patient\",\"CommunicationRequest\":\"patient\",\"Composition\":\"patient\",\"Condition\":\"patient\",\"Contract\":\"patient\",\"Coverage\":\"patient\",\"DetectedIssue\":\"patient\",\"Device\":\"patient\",\"DeviceUseRequest\":\"patient\",\"DeviceUseStatement\":\"patient\",\"DiagnosticOrder\":\"patient\",\"DiagnosticReport\":\"patient\",\"DocumentManifest\":\"patient\",\"DocumentReference\":\"patient\",\"Encounter\":\"patient\",\"EnrollmentRequest\":\"patient\",\"EpisodeOfCare\":\"patient\",\"FamilyMemberHistory\":\"patient\",\"Flag\":\"patient\",\"Goal\":\"patient\",\"Group\":\"patient\",\"ImagingObjectSelection\":\"patient\",\"ImagingStudy\":\"patient\",\"Immunization\":\"patient\",\"ImmunizationRecommendation\":\"patient\",\"List\":\"patient\",\"Media\":\"subject\",\"MedicationAdministration\":\"patient\",\"MedicationDispense\":\"patient\",\"MedicationOrder\":\"patient\",\"MedicationStatement\":\"patient\",\"NutritionOrder\":\"patient\",\"Observation\":\"patient\",\"Order\":\"subject\",\"Person\":\"patient\",\"Procedure\":\"patient\",\"ProcedureRequest\":\"patient\",\"Provenance\":\"agent\",\"QuestionnaireResponse\":\"patient\",\"ReferralRequest\":\"patient\",\"RelatedPerson\":\"patient\",\"RiskAssessment\":\"patient\",\"Schedule\":\"actor\",\"Specimen\":\"patient\",\"SupplyDelivery\":\"patient\",\"SupplyRequest\":\"patient\",\"VisionPrescription\":\"patient\", \"Patient\" : \"_id\"}"},{"name":"r4.b2b.path.filter.map","value":"{\"Patient\":\"_id\",\"Annotation\":\"authorReference\",\"Signature\":\"who\",\"Account\":\"subject\",\"AdverseEvent\":\"subject\",\"AllergyIntolerance\":\"patient\",\"Appointment\":\"actor\",\"AppointmentResponse\":\"actor\",\"AuditEvent\":\"agent\",\"Basic\":\"subject\",\"BiologicallyDerivedProduct\":\"source\",\"BodyStructure\":\"patient\",\"CarePlan\":\"subject\",\"CareTeam\":\"subject\",\"ChargeItem\":\"subject\",\"Claim\":\"patient\",\"ClaimResponse\":\"patient\",\"ClinicalImpression\":\"subject\",\"Communication\":\"subject\",\"CommunicationRequest\":\"subject\",\"Composition\":\"subject\",\"Condition\":\"subject\",\"Consent\":\"patient\",\"Contract\":\"patient\",\"Coverage\":\"patient\",\"CoverageEligibilityRequest\":\"patient\",\"CoverageEligibilityResponse\":\"patient\",\"DetectedIssue\":\"patient\",\"Device\":\"patient\",\"DeviceRequest\":\"subject\",\"DeviceUseStatement\":\"subject\",\"DiagnosticReport\":\"subject\",\"DocumentManifest\":\"subject\",\"DocumentReference\":\"subject\",\"Encounter\":\"subject\",\"EnrollmentRequest\":\"subject\",\"EpisodeOfCare\":\"patient\",\"ExplanationOfBenefit\":\"patient\",\"FamilyMemberHistory\":\"patient\",\"Flag\":\"subject\",\"Goal\":\"subject\",\"Group\":\"member\",\"GuidanceResponse\":\"subject\",\"ImagingStudy\":\"subject\",\"Immunization\":\"patient\",\"ImmunizationEvaluation\":\"patient\",\"ImmunizationRecommendation\":\"patient\",\"Invoice\":\"subject\",\"List\":\"subject\",\"MeasureReport\":\"subject\",\"Media\":\"subject\",\"MedicationAdministration\":\"subject\",\"MedicationDispense\":\"subject\",\"MedicationRequest\":\"subject\",\"MedicationStatement\":\"subject\",\"MolecularSequence\":\"patient\",\"NutritionOrder\":\"patient\",\"Observation\":\"subject\",\"Person\":\"patient\",\"Procedure\":\"subject\",\"Provenance\":\"target\",\"QuestionnaireResponse\":\"subject\",\"RelatedPerson\":\"patient\",\"RequestGroup\":\"subject\",\"ResearchSubject\":\"patient\",\"RiskAssessment\":\"subject\",\"Schedule\":\"actor\",\"ServiceRequest\":\"subject\",\"Specimen\":\"subject\",\"SupplyDelivery\":\"patient\",\"SupplyRequest\":\"subject\",\"Task\":\"subject\",\"VisionPrescription\":\"patient\"}"},{"name":"dstu2.fhir.resources","value":"AllergyIntolerance,Appointment,AppointmentResponse,AuditEvent,Basic,Binary,BodySite,Bundle,CarePlan,Claim,ClaimResponse,ClinicalImpression,Communication,CommunicationRequest,Composition,ConceptMap,Condition,Conformance,Contract,DetectedIssue,Coverage,DataElement,Device,DeviceComponent,DeviceMetric,DeviceUseRequest,DeviceUseStatement,DiagnosticOrder,DiagnosticReport,DocumentManifest,DocumentReference,EligibilityRequest,EligibilityResponse,Encounter,EnrollmentRequest,EnrollmentResponse,EpisodeOfCare,ExplanationOfBenefit,FamilyMemberHistory,Flag,Goal,Group,HealthcareService,ImagingObjectSelection,ImagingStudy,Immunization,ImmunizationRecommendation,ImplementationGuide,List,Location,Media,Medication,MedicationAdministration,MedicationDispense,MedicationOrder,MedicationStatement,MessageHeader,NamingSystem,NutritionOrder,Observation,OperationDefinition,OperationOutcome,Order,OrderResponse,Organization,Parameters,Patient,PaymentNotice,PaymentReconciliation,Person,Practitioner,Procedure,ProcessRequest,ProcessResponse,ProcedureRequest,Provenance,Questionnaire,QuestionnaireResponse,ReferralRequest,RelatedPerson,RiskAssessment,Schedule,SearchParameter,Slot,Specimen,StructureDefinition,Subscription,Substance,SupplyRequest,SupplyDelivery,TestScript,ValueSet,VisionPrescription"},{"name":"stu3.fhir.resources","value":"Account,ActivityDefinition,AllergyIntolerance,AdverseEvent,Appointment,AppointmentResponse,AuditEvent,Basic,Binary,BodySite,Bundle,CapabilityStatement,CarePlan,CareTeam,ChargeItem,Claim,ClaimResponse,ClinicalImpression,CodeSystem,Communication,CommunicationRequest,CompartmentDefinition,Composition,ConceptMap,Condition,Consent,Contract,Coverage,DataElement,DetectedIssue,Device,DeviceComponent,DeviceMetric,DeviceRequest,DeviceUseStatement,DiagnosticReport,DocumentManifest,DocumentReference,EligibilityRequest,EligibilityResponse,Encounter,Endpoint,EnrollmentRequest,EnrollmentResponse,EpisodeOfCare,ExpansionProfile,ExplanationOfBenefit,FamilyMemberHistory,Flag,Goal,GraphDefinition,Group,GuidanceResponse,HealthcareService,ImagingManifest,ImagingStudy,Immunization,ImmunizationRecommendation,ImplementationGuide,Library,Linkage,List,Location,Measure,MeasureReport,Media,Medication,MedicationAdministration,MedicationDispense,MedicationRequest,MedicationStatement,MessageDefinition,MessageHeader,NamingSystem,NutritionOrder,Observation,OperationDefinition,OperationOutcome,Organization,Parameters,Patient,PaymentNotice,PaymentReconciliation,Person,PlanDefinition,Practitioner,PractitionerRole,Procedure,ProcedureRequest,ProcessRequest,ProcessResponse,Provenance,Questionnaire,QuestionnaireResponse,ReferralRequest,RelatedPerson,RequestGroup,ResearchStudy,ResearchSubject,RiskAssessment,Schedule,SearchParameter,Sequence,ServiceDefinition,Slot,Specimen,StructureDefinition,StructureMap,Subscription,Substance,SupplyDelivery,SupplyRequest,Task,TestScript,TestReport,ValueSet,VisionPrescription"},{"name":"r4.fhir.resources","value":"Account,ActivityDefinition,AdverseEvent,AllergyIntolerance,Appointment,AppointmentResponse,AuditEvent,Basic,Binary,BiologicallyDerivedProduct,BodyStructure,Bundle,CapabilityStatement,CarePlan,CareTeam,CatalogEntry,ChargeItem,ChargeItemDefinition,Claim,ClaimResponse,ClinicalImpression,CodeSystem,Communication,CommunicationRequest,CompartmentDefinition,Composition,ConceptMap,Condition,Consent,Contract,Coverage,CoverageEligibilityRequest,CoverageEligibilityResponse,DetectedIssue,Device,DeviceDefinition,DeviceMetric,DeviceRequest,DeviceUseStatement,DiagnosticReport,DocumentManifest,DocumentReference,EffectEvidenceSynthesis,Encounter,Endpoint,EnrollmentRequest,EnrollmentResponse,EpisodeOfCare,EventDefinition,Evidence,EvidenceVariable,ExampleScenario,ExplanationOfBenefit,FamilyMemberHistory,Flag,Goal,GraphDefinition,Group,GuidanceResponse,HealthcareService,ImagingStudy,Immunization,ImmunizationEvaluation,ImmunizationRecommendation,ImplementationGuide,InsurancePlan,Invoice,Library,Linkage,List,Location,Measure,MeasureReport,Media,Medication,MedicationAdministration,MedicationDispense,MedicationKnowledge,MedicationRequest,MedicationStatement,MedicinalProduct,MedicinalProductAuthorization,MedicinalProductContraindication,MedicinalProductIndication,MedicinalProductIngredient,MedicinalProductInteraction,MedicinalProductManufactured,MedicinalProductPackaged,MedicinalProductPharmaceutical,MedicinalProductUndesirableEffect,MessageDefinition,MessageHeader,MolecularSequence,NamingSystem,NutritionOrder,Observation,ObservationDefinition,OperationDefinition,OperationOutcome,Organization,OrganizationAffiliation,Parameters,Patient,PaymentNotice,PaymentReconciliation,Person,PlanDefinition,Practitioner,PractitionerRole,Procedure,Provenance,Questionnaire,QuestionnaireResponse,RelatedPerson,RequestGroup,ResearchDefinition,ResearchElementDefinition,ResearchStudy,ResearchSubject,RiskAssessment,RiskEvidenceSynthesis,Schedule,SearchParameter,ServiceRequest,Slot,Specimen,SpecimenDefinition,StructureDefinition,StructureMap,Subscription,Substance,SubstancePolymer,SubstanceProtein,SubstanceReferenceInformation,SubstanceSpecification,SubstanceSourceMaterial,SupplyDelivery,SupplyRequest,Task,TerminologyCapabilities,TestReport,TestScript,ValueSet,VerificationResult,VisionPrescription"},{"name":"dstu2.b2c.payload.filter.map","value":"{\"Account\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"AllergyIntolerance\":[{\"type\":\"direct\",\"location\":\"recorder.reference\"},{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"reporter.reference\"}],\"Appointment\":[{\"type\":\"collection\",\"location\":\"participant\",\"collectionLocation\":\"actor.reference\"}],\"AppointmentResponse\":[{\"type\":\"direct\",\"location\":\"actor.reference\"},{\"type\":\"chained\",\"location\":\"appointment.reference\"}],\"AuditEvent\":[{\"type\":\"collection\",\"location\":\"participant\",\"collectionLocation\":\"reference.reference\"}],\"Basic\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"}],\"BodySite\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"CarePlan\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"},{\"type\":\"collection\",\"location\":\"participant\",\"collectionLocation\":\"memeber.reference\"},{\"type\":\"collection\",\"location\":\"detail.performer\",\"collectionLocation\":\"reference\"}],\"Claim\":[{\"type\":\"direct\",\"location\":\"payee.person.reference\"},{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"ClinicalImpression\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Communication\":[{\"type\":\"direct\",\"location\":\"sender.reference\"},{\"type\":\"collection\",\"location\":\"recipient\",\"collectionLocation\":\"reference\"},{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"CommunicationRequest\":[{\"type\":\"direct\",\"location\":\"sender.reference\"},{\"type\":\"collection\",\"location\":\"recipient\",\"collectionLocation\":\"reference\"},{\"type\":\"direct\",\"location\":\"requester.reference\"},{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"Composition\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"author\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"attester\",\"collectionLocation\":\"party.reference\"}],\"Condition\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"asserter.reference\"}],\"Contract\":[{\"type\":\"collection\",\"location\":\"subject\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"actor\",\"collectionLocation\":\"entity.reference\"},{\"type\":\"collection\",\"location\":\"signer\",\"collectionLocation\":\"party.reference\"}],\"Coverage\":[{\"type\":\"direct\",\"location\":\"subscriber.reference\"}],\"DetectedIssue\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"}],\"Device\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"DeviceUseRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"DeviceUseStatement\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"DiagnosticOrder\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"DiagnosticReport\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"DocumentManifest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"recipient\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"author\",\"collectionLocation\":\"reference\"}],\"DocumentReference\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"},{\"type\":\"direct\",\"location\":\"context.sourcePatientInfo.reference\"}],\"Encounter\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"collection\",\"location\":\"participant\",\"collectionLocation\":\"individual.reference\"}],\"EnrollmentRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"EpisodeOfCare\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"FamilyMemberHistory\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Flag\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"}],\"Goal\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"}],\"Group\":[{\"type\":\"collection\",\"location\":\"member\",\"collectionLocation\":\"entity\"}],\"ImagingObjectSelection\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"}],\"ImagingStudy\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Immunization\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"ImmunizationRecommendation\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"List\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"source.reference\"}],\"Media\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"MedicationAdministration\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"MedicationDispense\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"receiver.reference\"}],\"MedicationOrder\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"MedicationStatement\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"informationSource.reference\"},{\"type\":\"direct\",\"location\":\"\"}],\"NutritionOrder\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Observation\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"reference\"}],\"Order\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"Person\":[{\"type\":\"collection\",\"location\":\"link\",\"collectionLocation\":\"target.reference\"}],\"Procedure\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"actor\"}],\"ProcedureRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"performer.reference\"},{\"type\":\"direct\",\"location\":\"orderer.reference\"}],\"Provenance\":[{\"type\":\"collection\",\"location\":\"target\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"agent\",\"collectionLocation\":\"actor\"}],\"QuestionnaireResponse\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"},{\"type\":\"direct\",\"location\":\"source.reference\"}],\"ReferralRequest\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"requester.reference\"}],\"RelatedPerson\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"RiskAssessment\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"Schedule\":[{\"type\":\"direct\",\"location\":\"actor.reference\"}],\"Specimen\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"SupplyDelivery\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"SupplyRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"source.reference\"}],\"VisionPrescription\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Patient\":[{\"type\":\"direct\",\"location\":\"id\"}]}"},{"name":"stu3.b2c.payload.filter.map","value":"{\"Patient\":[{\"type\":\"direct\",\"location\":\"id\"}],\"Account\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"AdverseEvent\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"recorder.reference\"}],\"AllergyIntolerance\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"recorder.reference\"},{\"type\":\"direct\",\"location\":\"asserter.reference\"}],\"Appointment\":[{\"type\":\"collection\",\"location\":\"participant\",\"collectionLocation\":\"actor.reference\"}],\"AppointmentResponse\":[{\"type\":\"direct\",\"location\":\"actor.reference\"}],\"AuditEvent\":[{\"type\":\"collection\",\"location\":\"agent\",\"collectionLocation\":\"reference.reference\"}],\"Basic\":[{\"type\":\"direct\",\"location\":\"author.reference\"},{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"BodySite\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"CarePlan\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"author\",\"collectionLocation\":\"reference\"}],\"CareTeam\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"participant\",\"collectionLocation\":\"memeber.reference\"}],\"ChargeItem\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"participant\",\"collectionLocation\":\"actor.reference\"},{\"type\":\"direct\",\"location\":\"enterer.reference\"}],\"Claim\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"payee.party.reference\"}],\"ClaimResponse\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"ClinicalImpression\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"Communication\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"recipient\",\"collectionLocation\":\"reference\"},{\"type\":\"direct\",\"location\":\"sender.reference\"}],\"CommunicationRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"recipient\",\"collectionLocation\":\"reference\"},{\"type\":\"direct\",\"location\":\"sender.reference\"},{\"type\":\"direct\",\"location\":\"requester.agent.reference\"}],\"Composition\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"author\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"attester\",\"collectionLocation\":\"party.reference\"}],\"Condition\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"asserter.reference\"}],\"Consent\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"collection\",\"location\":\"consentingParty\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"actor\",\"collectionLocation\":\"reference.reference\"}],\"Contract\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"agent\",\"collectionLocation\":\"actor.reference\"},{\"type\":\"collection\",\"location\":\"signer\",\"collectionLocation\":\"party.reference\"}],\"Coverage\":[{\"type\":\"direct\",\"location\":\"policyHolder.reference\"},{\"type\":\"direct\",\"location\":\"subscriber.reference\"},{\"type\":\"direct\",\"location\":\"beneficiary.reference\"},{\"type\":\"collection\",\"location\":\"payor\",\"collectionLocation\":\"reference\"}],\"DetectedIssue\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Device\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"DeviceRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"performer.reference\"}],\"DeviceUseStatement\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"source.reference\"}],\"DiagnosticReport\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"DocumentManifest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"author\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"recipient\",\"collectionLocation\":\"reference\"}],\"DocumentReference\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"author\",\"collectionLocation\":\"reference\"},{\"type\":\"direct\",\"location\":\"context.sourcePatientInfo.reference\"}],\"EligibilityRequest\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Encounter\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"EnrollmentRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"EpisodeOfCare\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"ExplanationOfBenefit\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"payee.party.reference\"}],\"FamilyMemberHistory\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Flag\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"}],\"Goal\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"Group\":[{\"type\":\"collection\",\"location\":\"member\",\"collectionLocation\":\"entity.reference\"}],\"GuidanceResponse\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"ImagingManifest\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"}],\"ImagingStudy\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Immunization\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"ImmunizationRecommendation\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"List\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"source.reference\"}],\"MeasureReport\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Media\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"MedicationAdministration\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"actor.reference\"}],\"MedicationDispense\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"actor.reference\"},{\"type\":\"direct\",\"location\":\"receiver.reference\"}],\"MedicationRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"requester.agent.reference\"}],\"MedicationStatement\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"informationSource.reference\"}],\"NutritionOrder\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Observation\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"reference\"}],\"Person\":[{\"type\":\"collection\",\"location\":\"link\",\"collectionLocation\":\"target.reference\"}],\"Procedure\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"actor.reference\"}],\"ProcedureRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"performer.reference\"}],\"Provenance\":[{\"type\":\"collection\",\"location\":\"agent\",\"collectionLocation\":\"whoReference.reference\"}],\"QuestionnaireResponse\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"},{\"type\":\"direct\",\"location\":\"source.reference\"}],\"ReferralRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"requester.agent.reference\"}],\"RelatedPerson\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"RequestGroup\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"ResearchSubject\":[{\"type\":\"direct\",\"location\":\"individual.reference\"}],\"RiskAssessment\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"Schedule\":[{\"type\":\"collection\",\"location\":\"actor\",\"collectionLocation\":\"reference\"}],\"Sequence\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Specimen\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"SupplyDelivery\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"SupplyRequest\":[{\"type\":\"direct\",\"location\":\"requester.agent.reference\"},{\"type\":\"direct\",\"location\":\"deliverTo.reference\"}],\"Task\":[{\"type\":\"direct\",\"location\":\"for.reference\"},{\"type\":\"direct\",\"location\":\"requester.agent.reference\"},{\"type\":\"direct\",\"location\":\"owner.reference\"},{\"type\":\"collection\",\"location\":\"restriction.recipient\",\"collectionLocation\":\"reference\"}],\"VisionPrescription\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}]}"},{"name":"r4.b2c.payload.filter.map","value":"{\"Patient\":[{\"type\":\"direct\",\"location\":\"id\"}],\"Account\":[{\"type\":\"collection\",\"location\":\"subject\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"guarantor\",\"collectionLocation\":\"party.reference\"}],\"AdverseEvent\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"recorder.reference\"}],\"AllergyIntolerance\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"recorder.reference\"},{\"type\":\"direct\",\"location\":\"asserter.reference\"}],\"Appointment\":[{\"type\":\"collection\",\"location\":\"participant\",\"collectionLocation\":\"actor.reference\"}],\"AppointmentResponse\":[{\"type\":\"direct\",\"location\":\"actor.reference\"},{\"type\":\"chained\",\"location\":\"appointment.reference\"}],\"AuditEvent\":[{\"type\":\"collection\",\"location\":\"agent\",\"collectionLocation\":\"who\"},{\"type\":\"direct\",\"location\":\"source.observer.reference\"}],\"Basic\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"}],\"BiologicallyDerivedProduct\":[{\"type\":\"direct\",\"location\":\"collection.source.reference\"},{\"type\":\"direct\",\"location\":\"collection.collector.reference\"}],\"BodyStructure\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"CarePlan\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"},{\"type\":\"collection\",\"location\":\"contributor\",\"collectionLocation\":\"reference\"}],\"CareTeam\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"participant\",\"collectionLocation\":\"member.reference\"}],\"ChargeItem\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"actor.reference\"},{\"type\":\"direct\",\"location\":\"enterer.reference\"}],\"Claim\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"payee.party.reference\"}],\"ClaimResponse\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"ClinicalImpression\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"Communication\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"recipient\",\"collectionLocation\":\"reference\"},{\"type\":\"direct\",\"location\":\"sender.reference\"}],\"CommunicationRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"requester.reference\"},{\"type\":\"collection\",\"location\":\"recipient\",\"collectionLocation\":\"reference\"},{\"type\":\"direct\",\"location\":\"sender.reference\"}],\"Composition\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"author\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"attester\",\"collectionLocation\":\"party.reference\"}],\"Condition\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"recorder.reference\"},{\"type\":\"direct\",\"location\":\"asserter.reference\"}],\"Consent\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"verification\",\"collectionLocation\":\"verifiedWith.reference\"},{\"type\":\"collection\",\"location\":\"provision.actor\",\"collectionLocation\":\"reference.reference\"}],\"Contract\":[{\"type\":\"collection\",\"location\":\"subject\",\"collectionLocation\":\"reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"}],\"Coverage\":[{\"type\":\"direct\",\"location\":\"beneficiary.reference\"},{\"type\":\"direct\",\"location\":\"policyHolder.reference\"},{\"type\":\"direct\",\"location\":\"subscriber.reference\"},{\"type\":\"collection\",\"location\":\"payor\",\"collectionLocation\":\"reference\"}],\"CoverageEligibilityRequest\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"CoverageEligibilityResponse\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"DetectedIssue\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"}],\"Device\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"DeviceRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"performer.reference\"}],\"DeviceUseStatement\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"source.reference\"}],\"DiagnosticReport\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"reference\"}],\"DocumentManifest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"author\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"recipient\",\"collectionLocation\":\"reference\"}],\"DocumentReference\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"author\",\"collectionLocation\":\"reference\"},{\"type\":\"direct\",\"location\":\"context.sourcePatientInfo.reference\"}],\"Encounter\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"EnrollmentRequest\":[{\"type\":\"direct\",\"location\":\"candidate.reference\"}],\"EpisodeOfCare\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"ExplanationOfBenefit\":[{\"type\":\"direct\",\"location\":\"patient.reference\"},{\"type\":\"direct\",\"location\":\"payee.party.reference\"}],\"FamilyMemberHistory\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Flag\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"}],\"Goal\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"expressedBy.reference\"}],\"Group\":[{\"type\":\"collection\",\"location\":\"member\",\"collectionLocation\":\"entity.reference\"}],\"GuidanceResponse\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"ImagingStudy\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"Immunization\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"ImmunizationEvaluation\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"ImmunizationRecommendation\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Invoice\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"recipient.reference\"}],\"List\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"source.reference\"}],\"MeasureReport\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"Media\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"operator.reference\"}],\"MedicationAdministration\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"actor.reference\"}],\"MedicationDispense\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"actor.reference\"},{\"type\":\"collection\",\"location\":\"receiver\",\"collectionLocation\":\"reference\"}],\"MedicationRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"requester.reference\"},{\"type\":\"direct\",\"location\":\"performer.reference\"}],\"MedicationStatement\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"informationSource.reference\"}],\"MolecularSequence\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"NutritionOrder\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"Observation\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"Person\":[{\"type\":\"collection\",\"location\":\"link\",\"collectionLocation\":\"target.reference\"}],\"Procedure\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"recorder.reference\"},{\"type\":\"direct\",\"location\":\"asserter.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"actor.reference\"}],\"Provenance\":[{\"type\":\"collection\",\"location\":\"target\",\"collectionLocation\":\"reference\"},{\"type\":\"collection\",\"location\":\"agent\",\"collectionLocation\":\"who\"},{\"type\":\"collection\",\"location\":\"agent\",\"collectionLocation\":\"onBehalfOf\"}],\"QuestionnaireResponse\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"author.reference\"},{\"type\":\"direct\",\"location\":\"source.reference\"}],\"RelatedPerson\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"RequestGroup\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"ResearchSubject\":[{\"type\":\"direct\",\"location\":\"individual.reference\"}],\"RiskAssessment\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"Schedule\":[{\"type\":\"collection\",\"location\":\"actor\",\"collectionLocation\":\"reference\"}],\"ServiceRequest\":[{\"type\":\"direct\",\"location\":\"subject.reference\"},{\"type\":\"direct\",\"location\":\"requester.reference\"},{\"type\":\"collection\",\"location\":\"performer\",\"collectionLocation\":\"reference\"}],\"Specimen\":[{\"type\":\"direct\",\"location\":\"subject.reference\"}],\"SupplyDelivery\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}],\"SupplyRequest\":[{\"type\":\"direct\",\"location\":\"requester.reference\"},{\"type\":\"direct\",\"location\":\"deliverTo.reference\"}],\"Task\":[{\"type\":\"direct\",\"location\":\"for.reference\"},{\"type\":\"direct\",\"location\":\"requester.reference\"},{\"type\":\"direct\",\"location\":\"owner.reference\"},{\"type\":\"collection\",\"location\":\"restriction.recipient\",\"collectionLocation\":\"reference\"}],\"VisionPrescription\":[{\"type\":\"direct\",\"location\":\"patient.reference\"}]}"},{"name":"default.dstu2.fhir.app","value":""},{"name":"default.stu3.fhir.app","value":""},{"name":"default.r4.fhir.app","value":""}],"encrypted":"false"}'
      - name: HPX_FHIRServerServiceAccountCredentials
        payload: '{ "name" : "HPX_FHIRServerServiceAccountCredentials", "entry" : [{ "name" : "sandbox_r4", "value" : "" },{ "name" : "sandbox_stu3", "value" : "" },{ "name" : "sandbox_dstu2", "value" : "" }] , "encrypted": "true"}'
      - name: HPX_Secrets
        payload: '{ "name" : "HPX_Secrets", "entry" : [ { "name" : "username", "value" : "" },{ "name" : "passwords", "value" : "" }  ] , "encrypted": "true"}'      

    - name: replace_variables_consent_app
      type: configSubstitutions
      items:
      - name: google_idp_client_id
        filePaths: ['src/gateway/identity-consent-app/target/apiproxy/resources/hosted/package.json']
        value: '<% google_idp_client_id %>'
      - name: deployment_uri
        filePaths: ['src/gateway/identity-consent-app/target/apiproxy/resources/hosted/package.json']
        value: 'https://{{ org }}-{{ env }}.apigee.net'
      - name: google_idp_redirect_url
        filePaths: ['src/gateway/identity-consent-app/target/apiproxy/resources/hosted/package.json']
        value: '<% google_idp_redirect_url %>'       
      - name: consent_app_RedirectToConsent
        filePaths: ['src/gateway/identity-consent-app/target/apiproxy/policies/HPX_redirectToConsent.xml']
        value: 'https://{{ org }}-{{ env }}.apigee.net/openid/index?sessionid={sessionid}'
      - name: google_public_key_url
        filePaths: ['src/gateway/identity-consent-app/target/apiproxy/policies/HPX_VerifyGoogleIDTokenJWT.xml']
        value: 'https://www.googleapis.com/oauth2/v3/certs'
      - name: google_issuer_url
        filePaths: ['src/gateway/identity-consent-app/target/apiproxy/policies/HPX_VerifyGoogleIDTokenJWT.xml']
        value: 'https://accounts.google.com'


    - name: replace_variables_identity_usermgnt_api
      type: configSubstitutions
      items:
      - name: googleHealthCareUrl
        filePaths: ['src/gateway/identity-usermgmt-api/target/apiproxy/policies/HPX_RetrievePatientsPrevious.xml','src/gateway/identity-usermgmt-api/target/apiproxy/policies/HPX_RetrievePatientsNext.xml','src/gateway/identity-usermgmt-api/target/apiproxy/policies/HPX_Retrieve_RelativePatient.xml','src/gateway/identity-usermgmt-api/target/apiproxy/policies/HPX_RetrievePatientsStart.xml','src/gateway/identity-usermgmt-api/target/apiproxy/policies/HPX_Retrieve_RelatedPerson.xml','src/gateway/identity-usermgmt-api/target/apiproxy/policies/HPX_Retrieve_RelatedPatient.xml','src/gateway/identity-usermgmt-api/target/apiproxy/policies/HPX_Retrieve_Patient.xml','src/gateway/identity-usermgmt-api/target/apiproxy/policies/HPX_Retrieve_Practitioner.xml']
        value: 'https://healthcare.googleapis.com'

    - name: replace_variables_identity_oauthv2-api
      type: configSubstitutions
      items:
      - name: oauth_RedirectToConsent
        filePaths: ['src/gateway/identity-oauthv2-api/target/apiproxy/policies/HPX_AM_RedirectToConsent.xml']
        value: 'https://{{ org }}-{{ env }}.apigee.net/openid/onnet?sessionid={sessionid}'
      - name: healthapix_issuer_url
        filePaths: ['src/gateway/identity-oauthv2-api/target/apiproxy/policies/HPX_AM_AssignIssuer.xml','src/gateway/identity-oauthv2-api/target/apiproxy/policies/HPX_AM_IntrospectAssignIssuer.xml']
        value: 'https://{{ org }}-{{ env }}.apigee.net/oauth/v2/.well-known/jwks.json'

    - name: replace_variables_identity_appmgmt_api
      type: configSubstitutions
      items:
      - name: appMgmt_path
        filePaths: ['src/gateway/identity-appmgmt-api/target/apiproxy/policies/HPX_SC_GetAppDetails.xml']
        value: '/v1/organizations/{{ org }}/apps/{appId}'
      - name: appStatus_path
        filePaths: ['src/gateway/identity-appmgmt-api/target/apiproxy/policies/HPX_SC_UpdateAppStatus.xml']
        value: '/v1/o/{{ org }}/developers/{developerEmail}/apps/{appName}/keys/{app_clientId}/apiproducts/{apiProduct}?action={updateAppAction}'

    - name: identity_proxies
      type: proxy
      items:
      - name: identity-usermgmt-api
      - name: identity-consentmgmt-api
      - name: identity-consent-app
      - name: identity-jwks
      - name: identity-appmgmt-api
      - name: identity-oauthv2-api
      - name: sandbox_r4
      - name: sandbox_stu3
      - name: sandbox_dstu2
      - name: fhirApis                  
